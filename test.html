<!DOCTYPE html>
<html lang="zh-CN">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>éšæœºé¢è¯•é—®é¢˜ç”Ÿæˆå™¨</title>
    <style>
        :root {
            --primary-color: #10b981; /* ç¿¡ç¿ ç»¿ */
            --primary-hover: #059669;
            --bg-color: #f3f4f6;
            --card-bg: #ffffff;
            --text-main: #1f2937;
            --text-secondary: #6b7280;
            --border-radius: 16px;
            --shadow-sm: 0 1px 2px 0 rgba(0, 0, 0, 0.05);
            --shadow-md: 0 4px 6px -1px rgba(0, 0, 0, 0.1), 0 2px 4px -1px rgba(0, 0, 0, 0.06);
            --shadow-lg: 0 10px 15px -3px rgba(0, 0, 0, 0.1), 0 4px 6px -2px rgba(0, 0, 0, 0.05);
        }

        * {
            box-sizing: border-box;
        }

        body {
            font-family: -apple-system, BlinkMacSystemFont, "Segoe UI", Roboto, "Helvetica Neue", Arial, "Microsoft YaHei", sans-serif;
            display: flex;
            flex-direction: column;
            align-items: center;
            justify-content: center;
            min-height: 100vh;
            margin: 0;
            background-color: var(--bg-color);
            color: var(--text-main);
            padding: 20px;
        }

        h1 {
            color: var(--text-main);
            margin-bottom: 2rem;
            font-weight: 700;
            font-size: 2rem;
            text-shadow: 0 1px 2px rgba(0,0,0,0.1);
        }

        .container {
            background-color: var(--card-bg);
            border-radius: var(--border-radius);
            box-shadow: var(--shadow-lg);
            padding: 40px;
            width: 100%;
            max-width: 800px; /* é™åˆ¶æœ€å¤§å®½åº¦ï¼Œæ›´ç¾è§‚ */
            text-align: center;
            transition: transform 0.3s ease;
        }

        /* -------------------
           ç°ä»£åŒ–ç»“æœå±•ç¤ºåŒºåŸŸ
           ------------------- */
        #questionDisplay, #answerDisplay {
            min-height: 120px;
            font-size: 1.1rem;
            line-height: 1.75;
            margin-bottom: 25px;
            padding: 25px;
            border-radius: 12px;
            /* æ›¿æ¢è™šçº¿è¾¹æ¡†ä¸ºç°ä»£å—çŠ¶é£æ ¼ */
            background-color: #f9fafb;
            border-left: 5px solid var(--primary-color); 
            display: flex;
            align-items: center;
            justify-content: center;
            color: var(--text-main);
            box-shadow: inset 0 2px 4px 0 rgba(0,0,0,0.06);
            position: relative;
            text-align: left; /* é»˜è®¤å·¦å¯¹é½æ–‡æœ¬ */
            white-space: pre-wrap; /* ä¿ç•™æ¢è¡Œæ ¼å¼ */
        }
        
        #answerDisplay {
            border-left-color: #8b5cf6; /* ç­”æ¡ˆåŒºåŸŸç”¨ç´«è‰²åŒºåˆ† */
            background-color: #f5f3ff;
            animation: fadeIn 0.5s ease-out;
        }

        @keyframes fadeIn {
            from { opacity: 0; transform: translateY(-10px); }
            to { opacity: 1; transform: translateY(0); }
        }

        /* -------------------
           ç°ä»£åŒ–æŒ‰é’®æ ·å¼
           ------------------- */
        .btn-group {
            display: flex;
            gap: 15px;
            justify-content: center;
            margin-top: 20px;
        }

        button {
            background-color: var(--primary-color);
            color: white;
            border: none;
            padding: 14px 32px;
            font-size: 16px;
            font-weight: 600;
            border-radius: 50px; /* èƒ¶å›ŠæŒ‰é’® */
            cursor: pointer;
            transition: all 0.2s ease;
            box-shadow: var(--shadow-md);
            letter-spacing: 0.5px;
        }

        button:hover {
            background-color: var(--primary-hover);
            transform: translateY(-2px);
            box-shadow: 0 10px 15px -3px rgba(16, 185, 129, 0.3);
        }

        button:active {
            transform: translateY(0);
        }

        button:disabled {
            background-color: #9ca3af;
            cursor: not-allowed;
            transform: none;
            box-shadow: none;
        }

        #showAnswerBtn {
            background-color: #fff;
            color: var(--primary-color);
            border: 2px solid var(--primary-color);
        }
        
        #showAnswerBtn:hover {
            background-color: #ecfdf5;
            color: var(--primary-hover);
        }

        /* -------------------
           ç°ä»£åŒ–å¤šé€‰æ¡†æ ·å¼
           ------------------- */
        .filter-section {
            margin-bottom: 30px;
            text-align: left;
        }

        .filter-section label {
            display: block;
            margin-bottom: 12px;
            font-size: 1.1rem;
            color: var(--text-main);
            font-weight: 600;
        }

        .select-wrapper {
            position: relative;
            border-radius: 12px;
            overflow: hidden;
            border: 1px solid #e5e7eb;
            box-shadow: var(--shadow-sm);
        }

        .filter-section select {
            width: 100%;
            height: 180px; /* ç¨å¾®è°ƒé«˜ä¸€ç‚¹ */
            padding: 10px;
            font-size: 15px;
            border: none;
            background-color: #fff;
            font-family: inherit;
            cursor: pointer;
            outline: none;
            /* ç§»é™¤é»˜è®¤å¤–è§‚ */
            appearance: none; 
            -webkit-appearance: none;
        }

        /* è‡ªå®šä¹‰æ»šåŠ¨æ¡ */
        .filter-section select::-webkit-scrollbar {
            width: 8px;
        }
        .filter-section select::-webkit-scrollbar-track {
            background: #f1f1f1;
        }
        .filter-section select::-webkit-scrollbar-thumb {
            background: #d1d5db;
            border-radius: 4px;
        }
        .filter-section select::-webkit-scrollbar-thumb:hover {
            background: #9ca3af;
        }

        /* é€‰é¡¹æ ·å¼ç¾åŒ– */
        .filter-section select option {
            padding: 12px 16px;
            margin-bottom: 4px;
            border-radius: 8px;
            color: var(--text-main);
            transition: all 0.2s;
            border: 1px solid transparent;
        }

        .filter-section select option:hover {
            background-color: #ecfdf5;
            color: var(--primary-hover);
        }

        .filter-section select option:checked {
            background-color: var(--primary-color);
            color: white;
            font-weight: 500;
            background-image: linear-gradient(to right, var(--primary-color), var(--primary-hover));
            box-shadow: 0 2px 4px rgba(16, 185, 129, 0.2);
        }

        /* æç¤ºæ–‡å­— */
        .filter-section small {
            display: block;
            margin-top: 10px;
            color: var(--text-secondary);
            font-size: 0.875rem;
            display: flex;
            align-items: center;
            gap: 6px;
        }
        
        .filter-section small::before {
            content: "â„¹ï¸";
            font-size: 14px;
        }

        /* Loading åŠ¨ç”» */
        .loading {
            animation: spin 1s linear infinite;
        }
        @keyframes spin {
            0% { transform: rotate(0deg); }
            100% { transform: rotate(360deg); }
        }

        /* å“åº”å¼è°ƒæ•´ */
        @media (max-width: 600px) {
            .container {
                padding: 20px;
            }
            .btn-group {
                flex-direction: column-reverse;
            }
            button {
                width: 100%;
            }
        }
    </style>
</head>
<body>
    <div class="container">
        <h1>ğŸ² éšæœºé¢è¯•é—®é¢˜</h1>
        
        <div class="filter-section">
            <label for="questionType">é€‰æ‹©é—®é¢˜ç±»å‹ï¼š</label>
            <div class="select-wrapper">
                <select id="questionType" multiple>
                    <option value="1">ğŸ‘” äººäº‹ (HR)</option>
                    <option value="2">ğŸ Python åŸºç¡€</option>
                    <option value="3">ğŸ¤– æœºå™¨å­¦ä¹  (ML)</option>
                    <option value="4">ğŸ§  æ·±åº¦å­¦ä¹  (DL)</option>
                    <option value="5">ğŸ”¥ å¤§æ¨¡å‹ (LLM) 20é“é¢è¯•é¢˜</option>
                </select>
            </div>
            <small>æŒ‰ä½ Ctrl (Windows) æˆ– Cmd (Mac) é”®å¯å¤šé€‰å¤šä¸ªæ ‡ç­¾</small>
        </div>

        <div id="questionDisplay">ç‚¹å‡»â€œè·å–é—®é¢˜â€å¼€å§‹é¢è¯•æ¨¡æ‹Ÿ...</div>
        
        <!-- ç­”æ¡ˆåŒºåŸŸ -->
        <div id="answerDisplay" style="display: none;"></div>
        
        <div class="btn-group">
            <button id="showAnswerBtn" onclick="showAnswer()">æ˜¾ç¤ºç­”æ¡ˆ</button>
            <button id="getQuestionBtn" onclick="getRandomQuestion()">è·å–é—®é¢˜</button>
        </div>
    </div>

    <!-- é€»è¾‘ä»£ç ä¿æŒå®Œå…¨ä¸å˜ -->
    <script>
        function showAnswer(type=0){
            const answerDisplay = document.getElementById('answerDisplay');
            const showAnswerBtn = document.getElementById('showAnswerBtn');
            if(answerDisplay.style.display === 'block' || type==1){
                answerDisplay.style.display = 'none';
                showAnswerBtn.innerHTML='æ˜¾ç¤ºç­”æ¡ˆ'
            }else{
                answerDisplay.style.display = 'block';
                showAnswerBtn.innerHTML='éšè—ç­”æ¡ˆ'
            }
        }
        function getRandomQuestion() {
            const questionDisplay = document.getElementById('questionDisplay');
            const answerDisplay = document.getElementById('answerDisplay');
            const getQuestionBtn = document.getElementById('getQuestionBtn');
            const questionType = document.getElementById('questionType');
            
            // æ˜¾ç¤ºåŠ è½½çŠ¶æ€
            questionDisplay.textContent = 'åŠ è½½ä¸­...';
            getQuestionBtn.disabled = true;
            showAnswer(1)

            // æ”¶é›†é€‰ä¸­çš„ç±»å‹
            const selectedTypes = Array.from(questionType.selectedOptions).map(option => option.value);
            
            // æ„å»ºæŸ¥è¯¢å‚æ•°
            const params = new URLSearchParams();

            str = ''
           
            if (selectedTypes.length > 0) {
               str = 'types=' + selectedTypes.join(',');
            }

            console.log(str)
            
            // åˆ›å»ºAJAXè¯·æ±‚
            const xhr = new XMLHttpRequest();
            if(str){
                 xhr.open('GET', `/mianshi?${str}`, true);
            }else{
                 xhr.open('GET', `/mianshi`, true);
            }
            
            
            xhr.onload = function() {
                getQuestionBtn.disabled = false;
                if (xhr.status === 200) {
                    try {
                        // è§£æJSONå“åº”
                        const response = JSON.parse(xhr.responseText);
                        // æ˜¾ç¤ºé—®é¢˜
                        if (response.question) {
                            // å°†\r\næ›¿æ¢ä¸º<br>æ ‡ç­¾å¹¶ä½¿ç”¨innerHTMLæ˜¾ç¤º
                            questionDisplay.innerHTML = response.question.replace(/\r\n/g, '<br>');
                         
                            // ç­”æ¡ˆæš‚ä¸æ˜¾ç¤ºï¼Œç‚¹å‡»æ˜¾ç¤ºç­”æ¡ˆæŒ‰é’®æ—¶æ‰ä¼šæ˜¾ç¤º
                            answerDisplay.innerHTML = response.answer.replace(/\r\n/g, '<br>');
                          
                        } else {
                            questionDisplay.textContent = 'æ²¡æœ‰æ‰¾åˆ°é—®é¢˜ä¿¡æ¯';
                        }
                    } catch (error) {
                        console.error('è§£æå“åº”å¤±è´¥:', error);
                        questionDisplay.textContent = 'è·å–é—®é¢˜å¤±è´¥ï¼Œè¯·é‡è¯•';
                    }
                } else {
                    questionDisplay.textContent = 'è¯·æ±‚å¤±è´¥ï¼ŒçŠ¶æ€ç : ' + xhr.status;
                }
            };
            
            xhr.onerror = function() {
                getQuestionBtn.disabled = false;
                questionDisplay.textContent = 'ç½‘ç»œé”™è¯¯ï¼Œè¯·æ£€æŸ¥è¿æ¥';
            };
            
            xhr.send();
        }
    </script>
</body>
</html>